{extend name="common@public/base"/}
{block name="style"}
<link rel="stylesheet" type="text/css" href="__PUBLIC__/css/libs/bootstrap-editable.css">

<style>
.cards {
  padding-top: 10px;
  padding-bottom: 10px;
  margin-right: -10px;
  margin-left: -10px;
}
.cards:before,
.cards:after {
  /* 1 */
  display: table;
  content: " ";
  /* 2 */
}
.cards:after {
  clear: both;
}
.cards:before,
.cards:after {
  /* 1 */
  display: table;
  content: " ";
  /* 2 */
}
.cards:after {
  clear: both;
}
.card {
  position: relative;
  display: block;
  padding: 0;
  margin-bottom: 20px;
  overflow: hidden;
  border: 1px solid #ddd;
  border-radius: 4px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.075);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.075);
  -webkit-transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1);
  -o-transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1);
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1);
}
.card > img {
  display: block;
  max-width: 100%;
  height: auto;
  filter: alpha(opacity=100);
  opacity: 1;
}
.card > .media-wrapper {
  display: block;
  width: 100%;
  overflow: hidden;
  text-align: center;
  background-color: #f1f1f1;
  filter: alpha(opacity=100);
  opacity: 1;
  -webkit-transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1);
  -o-transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1);
  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1);
}
.card > .media-wrapper > img {
  max-width: 100%;
  vertical-align: middle;
}
.card .card-heading {
  display: block;
  padding: 10px;
  margin: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.card .card-content,
.card .card-actions {
  padding: 0 10px 10px 10px;
  overflow: hidden;
  text-overflow: ellipsis;
}
.card:hover {
  text-decoration: none;
  -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.175);
  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.175);
}
.card:hover > img,
.card:hover > .media-wrapper {
  background-color: #e5e5e5;
  filter: alpha(opacity=90);
  opacity: .9;
}
.card:hover > .card-reveal {
  top: 0;
}
.cards-borderless .card {
  border: none;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.cards-borderless .card > .card-heading,
.cards-borderless .card > .card-actions,
.cards-borderless .card > .card-content {
  padding-right: 0;
  padding-left: 0;
}
.card > .caption {
  position: absolute;
  top: -100%;
  left: 0;
  display: block;
  width: 100%;
  padding: 5px 10px;
  overflow: hidden;
  color: #fff;
  text-align: center;
  background-color: #666;
  background-color: rgba(0, 0, 0, 0.7);
  filter: alpha(opacity=0);
  opacity: 0;
  -webkit-transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1);
  -o-transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1);
  transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1);
}
.card:hover > .caption {
  top: 0;
  filter: alpha(opacity=100);
  opacity: 1;
}
.cards-condensed {
  padding: 0;
  border: 1px solid #ddd;
  border-top: 0;
  border-left: 0;
}
.cards-condensed > [class^="col-"],
.cards-condensed > [class*=" col-"] {
  padding: 0;
}
.cards-condensed .card {
  padding: 10px;
  margin: 0;
  border-right: 0;
  border-bottom: 0;
  border-radius: 0;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.015);
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.015);
}
.card > .card-reveal {
  position: absolute;
  top: 100%;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #f1f1f1;
  -webkit-transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1);
  -o-transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1);
  transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1);
}
.card > .card-reveal > .card-heading {
  padding: 20px 10px;
}
.card:hover > .card-reveal {
  top: 0;
}


</style>



{/block}
{block name="body"}
<section class="content-header">
  <h1>{$meta_title}<small></small></h1>
  <ol class="breadcrumb">
    <li><a href="{:url('admin/index/index')}"><i class="fa fa-dashboard"></i> {:lang('console')}</a></li>
        {volist name="__menu__['parent']" id="pitem"}
            <li class="{$pitem.action}">{if condition="$pitem.action eq ''"}<a href="{$pitem.url|url}" > {$pitem.title}</a>{else/} {$pitem.title}{/if}</li>
        {/volist}
  </ol>
</section>
<section class="content">
<div class="box box-solid clearfix">
	<header class="box-header clearfix">
		<div class="pull-left">
			<a class="btn btn-info" href="{:url('index?refresh=1')}">{:lang('update')}</a>
		</div>
	</header>
	<div class="box-body clearfix">
    	<div class="nav-tabs-custom">
        	<ul class="nav nav-tabs">
                <li id="type_all"><a href="{:url('index',array('type'=>'all'))}">{:lang('all')}</a></li>
                <li id="type_yes"><a href="{:url('index',array('type'=>'yes'))}">{:lang('installed')}</a></li>
                <li id="type_no"><a href="{:url('index',array('type'=>'no'))}">{:lang('not_installed')}</a></li>
                <script>
                $('#type_{$type}').addClass('active');
            </script>
			</ul>
        	<div class="tab-content">
                <div class="cards plugin-list" style="padding: 15px">
                {volist name="list" id="vo"}
                    <div class="pull-left" style="width: 240px;margin-right: 15px">
                        <div class="card">
                            <span class="caption">{$vo.name}</span>
                            <div class="card-heading">
                                <span class="pull-right"><span class="label" >{$vo.status_text|default=L("_NOT_INSTALLED_WITH_DOUBLE_")}</span> <span class="label label-success">{$vo.version}</span></span>
                                <a href="{:url('config',array('id'=>$vo['id']))}" class=""><strong>{$vo.title} </strong>  </a>
                            </div>
                            <div class="card-content text-muted">
                                {$vo.description}
                            </div>
                            <div class="card-actions">
                                <div class="text-mute">
                                  {$vo.author}
                                </div>
                            </div>
                            <div class="card-actions">
                                <div class="btn-group">
                                  	{if !$vo['isinstall']}
                                    <a href="{:url('install?addon_name='.$vo['name'])}" class="btn btn-sm btn-success ajax-get">{:lang('install')}</a>
                                    {else/}
                                        <a href="{:url('uninstall?id='.$vo['id'])}" class="btn btn-sm btn-danger confirm ajax-get">{:lang('uninstall')}</a>
                                        {if $vo['status']}
                                        <a href="{:url('disable?id='.$vo['id'])}" class="btn btn-sm btn-info confirm ajax-get">{:lang('disable')}</a>
                                        {else/}
                                        <a href="{:url('enable?id='.$vo['id'])}" class="btn btn-sm btn-primary confirm ajax-get">{:lang('enable')}</a>
                                        {/if}
                                        <a class="btn btn-sm btn-primary" href="{:url('config?id='.$vo['id'])}">{:lang('Set_up')}</a>
                                    {/if}
                                </div>
                            </div>
                        </div>
                    </div>
                {/volist}
                </div>
            </div>
        </div>
	</div>
</div>
</section>
{/block}
{block name="script"}
<script type="text/javascript" src="__PUBLIC__/js/bootstrap-editable.min.js"></script>
<script type="text/javascript">
$(function() {
	//点击排序
	$('.item_sort').click(function(){
		var url = $(this).attr('url');
		var ids = $('.ids:checked');
		var param = '';
		if(ids.length > 0){
			var str = new Array();
			ids.each(function(){
				str.push($(this).val());
			});
			param = str.join(',');
		}

		if(url != undefined && url != ''){
			window.location.href = url + '/ids/' + param;
		}
	});
	$.fn.editable.defaults.mode = 'popup';
	$.fn.editableform.buttons = '<button type="submit" class="btn btn-success editable-submit btn-mini"><i class="fa fa-check-square-o fa-white"></i></button>' +
	'<button type="button" class="btn editable-cancel btn-mini"><i class="fa fa-times"></i></button>';
	$('.editable').editable();
});
</script>
{/block}